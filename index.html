<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>INTERPARK PRACTICE</title>

<style>
body{
  margin:0;
  font-family:-apple-system,system-ui;
  background:#f4f7fb;
}
#app{
  max-width:420px;
  margin:0 auto;
  padding:16px;
}
h1{
  text-align:center;
  color:#0066cc;
  font-weight:800;
}
button{
  width:100%;
  padding:14px;
  font-size:16px;
  background:#0066cc;
  color:white;
  border:none;
  border-radius:8px;
  margin-top:12px;
}
.card{
  background:white;
  border-radius:12px;
  padding:16px;
  margin-top:12px;
}
.center{text-align:center;}
.small{font-size:13px;color:#777;}

.zone-grid{
  display:grid;
  grid-template-columns:repeat(12,1fr);
  gap:6px;
}
.zone{
  padding:14px 0;
  border-radius:8px;
  text-align:center;
  font-weight:700;
  font-size:13px;
}
.floor{background:#ff6b6b;}
.one{background:#ffd43b;}
.two{background:#69db7c;}

.seat-wrap{
  height:50vh;
  overflow-x:auto;
  background:white;
  border-radius:12px;
  padding:10px;
}
.seats{
  display:grid;
  grid-template-columns:repeat(18,1fr);
  gap:4px;
  min-width:700px;
}
.seat{
  height:14px;
  border-radius:2px;
}
.free{background:#2db400;}
.taken{background:#888;}
</style>
</head>

<body>
<div id="app">
  <h1>INTERPARK</h1>
  <div id="screen"></div>
</div>

<script>
const screen = document.getElementById("screen");
let queue = Math.floor(Math.random()*50000)+1;
let canClick=false;
let lastClick=0;

/* ì‹œì‘ */
function start(){
  screen.innerHTML=`
    <div class="card center">
      <p>í‹°ì¼“íŒ… ì—°ìŠµ</p>
    </div>
    <button onclick="count()">ì‹œì‘í•˜ê¸°</button>
  `;
}

/* ì¹´ìš´íŠ¸ */
function count(){
  let c=5;
  canClick=false;
  screen.innerHTML=`
    <div class="card center">
      <h2 id="cnt">5</h2>
    </div>
    <button onclick="wait()">ì‹œì‘í•˜ê¸°</button>
  `;
  const t=setInterval(()=>{
    c--;
    document.getElementById("cnt").innerText=c;
    if(c===0){
      canClick=true;
      clearInterval(t);
    }
  },1000);
}

/* ëŒ€ê¸° */
function wait(){
  if(!canClick) return;
  lastClick=Date.now();
  setTimeout(()=>{
    screen.innerHTML=`
      <div class="card center">
        <p>ëŒ€ê¸° ìˆœë²ˆ</p>
        <h2>${queue}ë²ˆ</h2>
      </div>
    `;
    setTimeout(zoneSelect,3000);
  },0);
}

/* êµ¬ì—­ ì„ íƒ (ê³ ì • ë°°ì¹˜) */
function zoneSelect(){
  const layout=[
    2,2,2,1,1,'F','F',1,1,2,2,2,
    2,2,2,2,1,1,1,1,2,2,2,2
  ];
  screen.innerHTML=`
    <div class="zone-grid">
      ${layout.map(z=>{
        const cls=z==='F'?'floor':z===1?'one':'two';
        const txt=z==='F'?'FLOOR':z+'ì¸µ';
        return `<div class="zone ${cls}" onclick="seat('${cls}')">${txt}</div>`;
      }).join("")}
    </div>
  `;
}

/* ì¢Œì„ (ë‚œì´ë„ ê·¹ì•… + ì¼ì • ë°°ì¹˜) */
function seat(zone){
  const rate={floor:0.995,one:0.92,two:0.75}[zone];
  const total=180;
  const blocked=Math.floor(total*rate);

  screen.innerHTML=`
    <button onclick="zoneSelect()">â† êµ¬ì—­ ë‹¤ì‹œ ì„ íƒ</button>
    <div class="seat-wrap">
      <div class="seats">
        ${Array.from({length:total},(_,i)=>{
          if(i<blocked){
            return `<div class="seat taken"
              onclick="this.style.background='#555';alert('ì´ë¯¸ ì„ íƒëœ ì¢Œì„ì…ë‹ˆë‹¤')"></div>`;
          }else{
            return `<div class="seat free" onclick="finish()"></div>`;
          }
        }).join("")}
      </div>
    </div>
  `;
}

/* ì„±ê³µ */
function finish(){
  screen.innerHTML=`
    <div class="card center">
      <h2>ğŸ‰ ì˜ˆë§¤ ì„±ê³µ</h2>
      <button onclick="location.reload()">ë‹¤ì‹œ ì—°ìŠµ</button>
    </div>
  `;
}

start();
</script>
</body>
</html>